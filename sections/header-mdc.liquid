{% comment %}
  Midnight Disko Club — Header / Navigation
  - Sticky header
  - Logo (image or text)
  - Primary nav (Shopify menu)
  - CTA: Join the Club
  - Mobile drawer
{% endcomment %}

<header
  id="mdc-header"
  class="mdc-header"
  style="--mdc-header-bg: {{ section.settings.bg_color }}; --mdc-header-fg: {{ section.settings.text_color }}; --mdc-accent: {{ section.settings.accent_color }};"
  data-sticky="{{ section.settings.sticky }}"
>
  <div class="mdc-header__bar">
    <!-- Mobile: hamburger -->
    <button class="mdc-header__burger" aria-label="Open menu" aria-expanded="false" aria-controls="mdc-mobile-drawer">
      <span></span><span></span><span></span>
    </button>

    <!-- Logo -->
    <div class="mdc-header__logo">
      {% if section.settings.logo != blank %}
        <a href="{{ routes.root_url }}" class="mdc-header__logo-link">
          <img
            src="{{ section.settings.logo | image_url: width: 240 }}"
            srcset="{{ section.settings.logo | image_url: width: 240 }} 1x, {{ section.settings.logo | image_url: width: 480 }} 2x"
            alt="{{ shop.name }}"
            width="{{ section.settings.logo.width }}"
            height="{{ section.settings.logo.height }}"
            class="mdc-header__logo-img"
          >
        </a>
      {% else %}
        <a href="{{ routes.root_url }}" class="mdc-header__logo-text">{{ shop.name }}</a>
      {% endif %}
    </div>

    <!-- Desktop nav -->
    <nav class="mdc-header__nav" aria-label="Primary">
      {% if section.settings.primary_menu != blank %}
        <ul class="mdc-header__list">
          {% for link in linklists[section.settings.primary_menu].links %}
            <li class="mdc-header__item">
              <a class="mdc-header__link" href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% endfor %}
        </ul>
      {% endif %}
    </nav>

    <!-- CTA -->
    {% if section.settings.cta_label != blank and section.settings.cta_url != blank %}
      <a
        href="{{ section.settings.cta_url }}"
        class="mdc-header__cta"
        {% if section.settings.cta_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
      >
        {{ section.settings.cta_label }}
      </a>
    {% endif %}
  </div>

  <!-- Mobile drawer -->
  <div id="mdc-mobile-drawer" class="mdc-drawer" aria-hidden="true">
    <div class="mdc-drawer__inner">
      <div class="mdc-drawer__top">
        <span class="mdc-drawer__title">Menu</span>
        <button class="mdc-drawer__close" aria-label="Close menu">✕</button>
      </div>

      {% if section.settings.primary_menu != blank %}
        <ul class="mdc-drawer__list">
          {% for link in linklists[section.settings.primary_menu].links %}
            <li class="mdc-drawer__item">
              <a class="mdc-drawer__link" href="{{ link.url }}">{{ link.title }}</a>
            </li>
          {% endfor %}
        </ul>
      {% endif %}

      {% if section.settings.cta_label != blank and section.settings.cta_url != blank %}
        <a
          href="{{ section.settings.cta_url }}"
          class="mdc-drawer__cta"
          {% if section.settings.cta_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}
        >
          {{ section.settings.cta_label }}
        </a>
      {% endif %}
    </div>
  </div>
  <div class="mdc-drawer__scrim" hidden></div>
</header>

{% schema %}
{
  "name": "MDC Header",
  "settings": [
    { "type": "checkbox", "id": "sticky", "label": "Sticky header", "default": true },

    { "type": "image_picker", "id": "logo", "label": "Logo (Neon script mark)" },
    { "type": "color", "id": "bg_color", "label": "Background color", "default": "#0F0A1F" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#FFFFFF" },
    { "type": "color", "id": "accent_color", "label": "Accent color (CTA)", "default": "#8B5CF6" },

    {
      "type": "link_list",
      "id": "primary_menu",
      "label": "Primary navigation menu"
    },

    { "type": "text", "id": "cta_label", "label": "CTA label", "default": "Join the Club" },
    { "type": "url", "id": "cta_url", "label": "CTA link" },
    { "type": "checkbox", "id": "cta_new_tab", "label": "Open CTA in new tab", "default": true }
  ],
  "presets": [{ "name": "MDC Header" }]
}
{% endschema %}
 
